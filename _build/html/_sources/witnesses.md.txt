# Делегаты

Делегаты - это участники сети, которым члены DAO VIZ доверили ее поддержку: создание и подпись блоков, управление экономическими и другими параметрами, в том числе принятие хардфорков. Доверие к делегату выражается в количестве отданных за него голосов. При этом за один голос принимается один [Shares](./economy.html#shares). То есть чем больше доля аккаунта в DAO, тем выше его влияние на выборы.

Деятельность делегатов разделена на раунды. За один раунд создается 21 блок с интервалом в 3 секунды, таким образом, продолжительность одного раунда составляет 63 секунды. В одном раунде могут принимать участие не более 21 делегата, которые в порядке очереди создают и подписывают новые блоки. За каждый созданный блок делегат получает награду в соответствии с [моделью эмиссии](./economy.html#emission). Один раунд включает 11 топ делегатов - тех, которые набрали наибольшее количество голосов и сменяются только в том случае, если кто-то набрал больше голосов, и 10 делегатов поддержки, которые периодически меняются местами с делегатами из очереди ожидания. Все делегаты, которые не вошли в текущий раунд, должны ждать нового, чтобы занять позицию предыдущего делегата поддержки. При этом длительность ожидания зависит от количества набранных делегатом голосов. По истечении времени делегаты из очереди ожидания меняются с делегатами поддержки.

<div id="vote"></div>

## Голосование за делегатов

Проголосовать за делегатов можно двумя способами:

1. Прямое голосование. При таком способе голосования каждый пользователь должен самостоятельно решать, за какого делегата отдать свой голос. При голосовании учитывается количество [эффективных Shares](./economy.html#effective_shares).
2. Голосование через прокси. При таком способе голосования пользователи выбирают аккаунт-прокси, который будет решать, кому из делегатов отдать их голоса. В свою очередь, аккаунт-прокси может доверить голоса своих пользователя другому аккаунту-прокси. Стоит учитывать, что при таком способе голосования пользователи передают аккаунту-прокси только свои [чистые Shares](./economy.html#clear_shares).

При голосовании отдать свой голос можно максимум за 100 делегатов одновременно. Кроме того, сила голоса распределяется равномерно между всеми ними (если избиратель проголосовал за 4 делегатов, то каждому достанется 25% от [Shares аккаунта](./economy.html#shares)).

<div id="props"></div>

## Управление параметрами сети

Роль делегатов состоит в поддержке работоспособности сети и управлении ее параметрами. Делегаты могут управлять следующими параметрами:

1. Принятие хардфорков;
2. [account_creation_fee](#account_creation_fee) - минимальная стоимость создания нового аккаунта в [ликвидных токенах](./economy.html#viz);
3. [create_account_delegation_ratio](#create_account_delegation_ratio) - коэффициент, который показывает во сколько раз больше нужно затратит токенов при создании аккаунта через делегирование [долевых токенов](./economy.html#shares), чем при создании за  [ликвидные токены](./economy.html#viz) (``Shares = account_creation_fee * create_account_delegation_ratio``);
4. [create_account_delegation_time](#create_account_delegation_time) - минимальный промежуток времени, по окончании которого пользователь может вернуть свои Shares, затраченные на создание аккаунта с помощью делегирования (при обычном делегировании доля может быть возвращена через 1 день);
5. [maximum_block_size](#maximum_block_size) - максимальный размер блока;
6. [min_delegation](#min_delegation) - минимальное количество делегируемых Shares;
7. [min_curation_percent [устарел]](#min_curation_percent) - минимальный кураторский процент, который автор может выставить за пост;
8. [max_curation_percent [устарел]](#max_curation_percent) - максимальный кураторский процент, который автор может выставить за пост;
9. [bandwidth_reserve_below](#bandwidth_reserve_below) - максимальное количество Shares аккаунта, при котором ему выделяется резервная [пропускная способность](./bandwidth.html);
10. [bandwidth_reserve_percent](#bandwidth_reserve_percent) - процент резервирования [пропускной способности](./bandwidth.html) от всего канала для аккаунтов с количеством Shares меньшим, чем bandwidth_reserve_below (может быть равен 0);
11. [flag_energy_additional_cost [устарел]](#flag_energy_additional_cost]) - процент дополнительной затраты энергии при отрицательном голосовании за посты;
12. [vote_accounting_min_rshares](#vote_accounting_min_rshares) - Минимальное количество [rShares](./economy.html#rshares), при которых [награда](./economy.html#award) будет больше 0 ;
13. [committee_request_approve_min_percent](#committee_request_approve_min_percent) - минимальный процент от всех голосов, отданных за заявку в [комитете](./economy.html#committee), при котором она считается подтвержденной;
14. [inflation_witness_percent](#inflation_witness_percent) - [Процент от эмиссии](./economy.html#emission_ration), который распределяется между 21 делегатом, который вошел в раунд подписи блоков;
15. [inflation_ratio_committee_vs_reward_fund](#inflation_ratio_committee_vs_reward_fund) - Процентная пропорция, по которой распределяется остаток от эмиссии между пулом комитета и пулом наград;
16. [inflation_recalc_period](#inflation_recalc_period) - Количество блоков, через которое блокчейн проверяет актуальность инфляционных параметров;

Значение каждого пункта, кроме 1, считается истинным в соответствии с медианной выборкой. Для принятия хардфорка нужно подтверждение 17 делегатов в раунде.

<div id="props_desc"></div>

## Подробное описание голосуемых параметров

Ниже представлена таблица типов, которые использует блокчейн: 

<div id="props_desc_table"></div>

| Тип          | Пример            | Диапазон           | Описание                                                     |
| ------------ | ----------------- | ------------------ | ------------------------------------------------------------ |
| VIZ актив    | "1.000 VIZ"       | от 0.001 VIZ       | Количество [ликвидных токенов](./economy.html#viz). Строка с десятичным числом с не более чем 3 цифрами после точки и обязательной приписок VIZ через пробел. <br>Пример: "1.123 VIZ" |
| SHARES актив | "1.000000 SHARES" | от 0.000001 SHARES | Количество [долевых токенов](./economy.html#shares). Строка с десятичным числом с не более чем 6 цифрами после точки и обязательной приписок SHARES через пробел. <br>Пример: "1.123456 VIZ" |
| rShares      | 1000000           | от 1               | Количество микро[долевых токенов](./economy.html#shares). 1 = 0.000001 SHARES; 1000000 = 1.000000 SHARES. Цело число. |
| Процент      | 1000              | от 1 до 10000      | Процент в целом числовом формате. 0.01% = 1; 1% = 100; 100% = 10000; |
| Целое        | 1                 |                    | Целое число                                                  |



<div id="account_creation_fee"></div>

### account_creation_fee

*Добавлено: 1.0.0*

[Формат](#props_desc_table): VIZ актив

Чтобы стать держателем [долевого токена](./economy.html#shares), нужно зарегистрировать аккаунт. Аккаунт - это именной кошелек, на котором хранятся все средства пользователя. Регистрация не бесплатна, чтобы создать нового пользователя, кто-то из уже существующих членов DAO VIZ должен отправить транзакцию регистрации аккаунта и заплатить [ликвидные токены](./economy.html#viz), которые затем будут конвертированы в [долевые токены](./economy.html#shares) нового аккаунта. Минимальное количество токенов, которое должен заплатить создатель, указаны в параметре ``account_creation_fee``.

<div id="create_account_delegation_ratio"></div>

### create_account_delegation_ratio

*Добавлено: 1.0.0*

[Формат](#props_desc_table): Целое

Аккаунт может быть создан не только за ликвидные токены, но и с помощью делегирования части своих Shares новому аккаунту во время создания. В количественном соотношении создание такого аккаунта может быть дороже, но делегированную долю можно всегда вернуть. 

Этот параметр отвечает за то, во сколько раз больше нужно потратить токенов при создании аккаунта через делегирование доли (``Shares = account_creation_fee * create_account_delegation_ratio``).

### create_account_delegation_time

*Добавлено: 1.0.0*

[Формат](#props_desc_table): Целое

При создании аккаунта регистратор не может вернуть свою долю сразу, для этого ему придется ждать ровно столько секунд, сколько указано в ``create_account_delegation_time``.

<div id="maximum_block_size"></div>

### maximum_block_size

*Добавлено: 1.0.0*

[Формат](#props_desc_table): Целое

Каждый блок может вмещать ограниченный размер информации в байтах. Голосуя за этот параметр, делегаты могут решать проблемы масштабируемости сети.

<div id="min_delegation"></div>

### min_delegation

*Добавлено: 1.0.0*

[Формат](#props_desc_table): VIZ актив

Пользователь не может делегировать другому аккаунту количество Shares меньшее, чем указано в ``min_delegation``, в пересчете на ликвидные токены.

<div id="min_curation_percent"></div>

### min_curation_percent [устарел]

*Добавлено: 1.0.0*

*Устарел: 2.0.0*

[Формат](#props_desc_table): Процент

Минимальный кураторский процент, который автор может выставить за пост.

<div id="max_curation_percent"></div>

### max_curation_percent [устарел]

*Добавлено: 1.0.0*

*Устарел: 2.0.0*

[Формат](#props_desc_table): Процент

Максимальный кураторский процент, который автор может выставить за пост.

<div id="bandwidth_reserve_below"></div>

### bandwidth_reserve_below

*Добавлено: 1.0.0*

[Формат](#props_desc_table): SHARES актив

Если у аккаунта количество Shares меньше, чем показатель ``bandwidth_reserve_below``, то ему выделяется дополнительная пропускная способность.

<div id="bandwidth_reserve_percent"></bandwidth_reserve_percent>

### bandwidth_reserve_percent

*Добавлено: 1.0.0*

[Формат](#props_desc_table): Процент

Процент,  указанный в ``bandwidth_reserve_percent`` от всей пропускной способности сети, будет зарезервирован для аккаунтов с количеством Shares меньшим, чем ``bandwidth_reserve_below``.

Если ``bandwidth_reserve_percent`` равен 0, то аккаунты с количеством Shares меньшим, чем  bandwidth_reserve_below, будут заблокированы.

<div id="flag_energy_additional_cost"></div>

### flag_energy_additional_cost[устарел]

*Добавлено: 1.0.0*

*Устарел: 2.0.0*

[Формат](#props_desc_table): Целое

Процентный коэффициент дополнительной затраты энергии при отрицательном голосовании за посты.

<div id="vote_accounting_min_rshares"></div>

### vote_accounting_min_rshares

*Добавлено: 1.0.0*

[Формат](#props_desc_table): rShares

Минимальное количество rShares, при которых награда будет больше 0.

Рассчитать rShares конкретного аккаунта можно по формуле 

``rShares = (s * 1000000) * e%``.

``s`` - количество эффективных Shares, 
``e`` - процент от эффективных Shares и одновременно количество затрачиваемой энергии.

Из формулы ``s * 1000000)`` можно сделать вывод, что rShares считается в µShares(микроShares ).

<div id="committee_request_approve_min_percent"></div>

### committee_request_approve_min_percent

*Добавлено: 1.0.0*

[Формат](#props_desc_table): Процент

Минимальный процент от всех голосов, отданный за заявку воркера, при котором заявка считается подтвержденной(по умолчанию 1000).

<div id="inflation_witness_percent"></div>

### inflation_witness_percent

*Добавлено: 2.0.0*

[Формат](#props_desc_table): Процент

Процент от эмиссии, который распределяется между 21 делегатом, который вошел в раунд подписи блоков.

<div id="inflation_ratio_committee_vs_reward_fund"></div>

### inflation_ratio_committee_vs_reward_fund

*Добавлено: 2.0.0*

[Формат](#props_desc_table): Целое

Процентная пропорция, по которой распределяется остаток от эмиссии (вся эмиссия - inflation_witness_percent) между пулом комитета и пулом наград. При этом inflation_ratio_committee_vs_reward_fund сначала идет в пул комитета, а потом в пул наград. 

Это значит, если ``inflation_ratio_committee_vs_reward_fund = 60%``, то 60% направится в комитет, а 40% на награды.

<div id="inflation_recalc_period"></div>

### inflation_recalc_period

*Добавлено: 2.0.0*

[Формат](#props_desc_table): Целое

Количество блоков, через которое блокчейн проверяет актуальность инфляционных параметров (inflation_witness_percent, inflation_ratio_committee_vs_reward_fund). Если делегаты изменили какой-то из этих параметров, то блокчейн будет учитывать их не раньше, чем через inflation_recalc_period с последней проверки.