.. _subscriptions:

Многоуровневые платные подписки
===============================

Платные подписки - это способ автоматического списания средств через
определенные промежутки времени для оплаты каких-либо услуг. Подписки в
VIZ могут содержать несколько уровней. Чем больше порядковый номер
уровня, тем дороже он стоит.

Любой пользователь может установить для своего
`аккаунта <./accounts.html>`__ сервис многоуровневой подписки. Один
аккаунт может установить только один сервис подписки, но при этом может
выступать в роли подписчика сразу нескольких сервисов.

Для установки подписки необходимо отправить транзакцию
(set_paid_subscription). В ней нужно указать ссылку на веб-ресурс с
информацией о подписке, свой аккаунт, максимальное количество уровней,
цену одного уровня и периодичность, с которой с подписчиков будут
списываться ликвидные токены.

После этого любой пользователь сможет оформить платную подписку на этот
аккаунт, указав желаемый уровень, но не выше максимального количества
уровней.

Цена конкретного уровня подписки будет во столько раз выше первого, во
сколько номер уровня больше единицы (например, если первый уровень стоит
10 viz, то третий уровень будет стоить 30 viz).

По желанию подписчик может указать, будут ли средства автоматически
списываться по окончании каждого периода, или они спишутся только один
раз.

Если у подписчика на счете будет меньше ликвидных токенов, чем нужно для
выплат по подписке, то она будет отменена, по окончании старого
соглашения, при условии, что было включено автоматическое списание
средств.

.. _contract-amendment:

Изменения в условиях подписки
-----------------------------

Если издатель подписки изменит ее условия и при этом у подписчика
включено автоматическое списание средств, то блокчейн сначала определит
являются ли изменения положительными для подписчика или отрицательными.

К положительным изменениям относятся увеличение периода списания
ликвидных токенов с подписчика и уменьшение цены первого уровня
(следовательно, и всех остальных). Все остальные изменения считаются
отрицательными для подписчика, поэтому подписка будет отменена сразу же
по окончании старого соглашения. Если изменения считаются
положительными, то по окончании старого договора подписчик будет
переведен на новые условия.

1 пример использования подписок
-------------------------------

Маша недавно открыла свой фитнес-клуб. Она решила, что будет хорошо,
если посетители клуба смогут оформить абонемент на посещение занятий.
Кроме того, она решила, что сделает три вида абонементов: обычный, супер
и VIP.

Для реализации этой схемы она создала аккаунт в ДАО VIZ с названием
@mashas-club и внедрила в него модель трехуровневой подписки, указав
цену за первый уровень 100 viz и периодичность оплаты раз в месяц.

Таким образом, у посетителей клуба есть возможность оформить абонемент в
виде подписки в ДАО VIZ, для этого им лишь нужно иметь аккаунт в системе
и достаточное количество ликвидных токенов.

.. _пример-использования-подписок-1:

2 пример использования подписок
-------------------------------

Благотворительный фонд помощи кошкам предлагает участникам VIZ оформить
небольшие ежедневные платежи для пополнения фонда. Для этого он создаёт
аккаунт @catsfund и настраивает 100-уровневую подписку с базовым
платежом в 0,1 viz и периодичностью раз в сутки.

Любой желающий может подписаться на платежи в фонд, выбрав взнос в
зависимости от своих желаний и возможностей: от 0,1 viz до 10 viz в
день.
